import{_ as V}from"./PrimaryButton-f0caf32d.js";import{_ as T}from"./DialogModal-a0e43ee0.js";import{_ as $}from"./SecondaryButton-13bea0c2.js";import{_ as b}from"./TextInput-e676ee95.js";import{_ as M}from"./SelectInput-fd5994b2.js";import{_ as c}from"./InputLabel-d409ba27.js";import{r as d,T as q,p as D,o as y,d as P,b as t,w as r,F as w,s as x,f as p,a as s,u as n,g as E,t as R}from"./app-40d426e7.js";import{A}from"./alert-ba80a5a6.js";import"./Modal-a1f6cbca.js";import"./_plugin-vue_export-helper-c27b6911.js";const F={class:"mt-4"},N={class:"mb-4"},S=s("option",{value:"",disabled:"",selected:""},"Select Product",-1),U=["value"],B={class:"mb-4"},O={class:"mb-4"},Q={class:"mb-4"},H=s("option",{value:"",disabled:"",selected:""},"Select Payment Method",-1),I=s("option",{value:"CASH"},"Cash",-1),L=s("option",{value:"MTN_MOMO"},"Mtn Momo",-1),j=s("option",{value:"CREDIT_CARD"},"Credit Card",-1),ae={__name:"ExportForm",setup(z){const i=d(!1),g=()=>i.value=!0,u=()=>i.value=!1,m=d([]),_=d(!1),f=d(!1),v=d(""),h=d("success"),e=q({product_id:"",price:"",quantity:"",price:"",payment_method:""}),C=async()=>{m.value=[];let l=await x.get("/api/products");m.value=l.data},k=()=>{_.value=!0,u();let l=new FormData;l.append("product_id",e.product_id),l.append("price",e.price),l.append("quantity",e.quantity),l.append("price",e.price),l.append("payment_method",e.payment_method),x.post("/api/exports",l).then(o=>{f.value=!0,v.value=o.data.message,h.value="success",_.value=!1,u(),C(),e.reset()}).catch(o=>{f.value=!0,v.value=o.response.data.message,h.value="error",_.value=!1,openEditMode()})};return D(async()=>{await C()}),(l,o)=>(y(),P(w,null,[t(V,{type:"button",onClick:g},{default:r(()=>[p(" new export ")]),_:1}),t(T,{show:i.value,onClose:u},{title:r(()=>[p(" Export Custom Product ")]),content:r(()=>[s("div",F,[s("div",N,[t(c,{for:"Product Category",value:"Product"}),t(M,{class:"mt-1 block w-full",placeholder:"Product",modelValue:n(e).product_id,"onUpdate:modelValue":o[0]||(o[0]=a=>n(e).product_id=a)},{default:r(()=>[S,(y(!0),P(w,null,E(m.value,a=>(y(),P("option",{value:a.id},R(a.name),9,U))),256))]),_:1},8,["modelValue"])]),s("div",B,[t(c,{for:"Product Color",value:"Product Quantity"}),t(b,{type:"number",modelValue:n(e).quantity,"onUpdate:modelValue":o[1]||(o[1]=a=>n(e).quantity=a),class:"mt-1 block w-full",placeholder:"Product Quantity",autocomplete:"off"},null,8,["modelValue"])]),s("div",O,[t(c,{for:"Product Price",value:"Product Price"}),t(b,{type:"text",modelValue:n(e).price,"onUpdate:modelValue":o[2]||(o[2]=a=>n(e).price=a),class:"mt-1 block w-full",placeholder:"Product Price",autocomplete:"off"},null,8,["modelValue"])]),s("div",Q,[t(c,{for:"Payment Method",value:"Payment Method"}),t(M,{class:"mt-1 block w-full",placeholder:"Payment Method",modelValue:n(e).payment_method,"onUpdate:modelValue":o[3]||(o[3]=a=>n(e).payment_method=a)},{default:r(()=>[H,I,L,j]),_:1},8,["modelValue"])])])]),footer:r(()=>[t($,{onClick:u},{default:r(()=>[p(" Cancel ")]),_:1}),t(V,{class:"ml-3",onClick:k},{default:r(()=>[p(" submit ")]),_:1})]),_:1},8,["show"]),t(A,{hasResponse:f.value,response:v.value,responseType:h.value},null,8,["hasResponse","response","responseType"])],64))}};export{ae as default};
